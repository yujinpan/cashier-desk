var u=Object.defineProperty;var l=(s,a,t)=>a in s?u(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t;var i=(s,a,t)=>(l(s,typeof a!="symbol"?a+"":a,t),t);import{V as h,i as c,t as m,C as p,n as f}from"./index.85bb56ed.js";import{b as _,c as y}from"./order.6a96adb2.js";import"./menu.5afae388.js";var x=Object.defineProperty,D=Object.getOwnPropertyDescriptor,v=(s,a,t,e)=>{for(var r=e>1?void 0:e?D(a,t):a,o=s.length-1,n;o>=0;o--)(n=s[o])&&(r=(e?n(a,t,r):n(r))||r);return e&&r&&x(a,t,r),r};let d=class extends h{constructor(){super(...arguments);i(this,"commonChartOptions",{tooltip:{show:!0},grid:{left:30,right:30,bottom:36},legend:{show:!0,right:0,width:"80%"}});i(this,"chartStatDay");i(this,"chartStatProds")}async initStatDay(){this.chartStatDay||(this.chartStatDay=c(this.$refs.statDay));const a=await _();this.chartStatDay.setOption({...this.commonChartOptions,title:{text:"\u6BCF\u65E5\u8425\u6536\u603B\u989D"},xAxis:{data:a.map(t=>t.date)},yAxis:{},series:[{name:"\u91D1\u989D\uFF08\u5143\uFF09",type:"bar",barMaxWidth:40,data:a.map(t=>t.total)}]})}async initStatProds(){this.chartStatProds||(this.chartStatProds=c(this.$refs.statProds));const a=await y();this.chartStatProds.setOption({...this.commonChartOptions,title:{text:"\u6BCF\u65E5\u5404\u4EA7\u54C1\u8425\u6536"},xAxis:{data:a[0].data.map(t=>t.date)},yAxis:{},series:a.map(t=>({name:t.name,type:"line",data:t.data.map(e=>e.total),smooth:!0}))}),this.chartStatProds.setOption({legend:{selected:m(a.map((t,e)=>({name:t.name,selected:e<7})),"name","selected")}})}update(){this.initStatDay(),this.initStatProds()}activated(){this.update()}mounted(){this.update()}};d=v([p],d);var P=function(){var a=this,t=a._self._c;return a._self._setupProxy,t("div",{staticClass:"stat cm-flex-auto cm-flex-column"},[t("div",{ref:"statDay",staticClass:"stat-day cm-flex-auto__content"}),t("div",{ref:"statProds",staticClass:"stat-prods cm-flex-auto__content"})])},C=[],S=f(d,P,C,!1,null,null,null,null);const F=S.exports;export{F as default};
