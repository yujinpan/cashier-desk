import{L as c,g as d}from"./index.85bb56ed.js";import{g as u}from"./menu.5afae388.js";function m(e){return e.reduce((t,a)=>t+=a.price*a.count,0)}const i=new c("ORDERS");async function o(e={}){let t=i.get()||[];e.startTime&&(t=t.filter(r=>r.time>e.startTime)),e.endTime&&(t=t.filter(r=>r.time<e.endTime));const a=e.order==="asc"?1:-1;return t.sort((r,n)=>(r.time-n.time)*a)}async function D(e){const t=await o();i.set(t.concat([{time:Date.now(),orders:e}]))}async function g(){return await o({order:"asc"}).then(e=>s(e))}async function y(){const e=await o({order:"asc"});return await u().then(t=>t.map(a=>({name:a.name,data:s(e.map(r=>({time:r.time,orders:r.orders.filter(n=>n.name===a.name)})))})))}function s(e){return e.map(t=>({date:d(t.time,"YYYY-MM-DD"),total:m(t.orders)})).reduce((t,a)=>{const r=t.find(n=>n.date===a.date);return r?r.total+=a.total:t.push(a),t},[])}export{D as a,g as b,y as c,o as g,m as o};
